<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مقال - كوكب زمردة</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="article-content">
        <p>جاري تحميل المقال...</p>
    </div>

    <script>
    async function loadArticle() {
        const urlParams = new URLSearchParams(window.location.search);
        const articleId = urlParams.get('id');
        
        if (!articleId) {
            window.location.href = 'index.html';
            return;
        }

        try {
            const response = await fetch('articles.json');
            const articles = await response.json();
            const article = articles.find(a => a.id === articleId);
            
            if (article) {
                document.getElementById('article-content').innerHTML = `
                    <h1>${article.title}</h1>
                    <p>${article.content}</p>
                `;
                document.title = `${article.title} - كوكب زمردة`;
            } else {
                window.location.href = 'index.html';
            }
        } catch (error) {
            console.error('Error loading article:', error);
        }
    }

    document.addEventListener('DOMContentLoaded', loadArticle);
    </script>
</body>

<script>
    // دالة محاكاة JSON من localStorage
    async function loadArticlesFromStorage() {
        const stored = localStorage.getItem('articles');
        return stored ? JSON.parse(stored) : [];
    }
    
    // في الصفحات التي تحتاج المقالات:
    async function loadArticles() {
        const articles = await loadArticlesFromStorage();
        // ... عرض المقالات
    }
    </script>
</html>